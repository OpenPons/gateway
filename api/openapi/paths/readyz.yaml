get:
  tags:
    - Health
  summary: Readiness probe
  description: |
    Checks if the gateway service is ready to accept traffic.
    This typically means it has successfully connected to its datastore,
    loaded initial configuration, and essential components are operational.
  responses:
    '200':
      description: Service is ready to serve traffic.
      content:
        application/json:
          schema:
            type: object
            properties:
              status:
                type: string
                example: "ready"
              checks: # Optional: more detailed readiness checks
                type: array
                items:
                  type: object
                  properties:
                    component:
                      type: string
                      example: "datastore"
                    status:
                      type: string
                      example: "connected"
    '503':
      description: Service is not ready.
      content:
        application/json:
          schema:
            type: object
            properties:
              status:
                type: string
                example: "not_ready"
              checks:
                type: array
                items:
                  type: object
                  properties:
                    component:
                      type: string
                    status:
                      type: string
                    message:
                      type: string
                      nullable: true
            example:
              status: "not_ready"
              checks:
                - component: "datastore"
                  status: "connecting"
                  message: "Attempting to connect to primary datastore..."
                - component: "xds_cache"
                  status: "initializing"
